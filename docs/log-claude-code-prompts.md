å½“å‰ç›®å½•æ˜¯æ¡Œé¢å®¢æˆ·ç«¯é¡¹ç›®ï¼ŒåŸºäºmonorepoæ¶æ„åˆ›å»º2ä¸ªå­é¡¹ç›®:
1. åŸºäº https://github.com/alex8088/electron-vite çš„ electron å®¢æˆ·ç«¯é¡¹ç›®(è¦æ±‚ electroné”å®š 22.3.27, ä»¥ä¾¿å…¼å®¹windows 7)
2. åŸºäº Tauri çš„ å®¢æˆ·ç«¯é¡¹ç›®.
è¦æ±‚:
å‰ç«¯ä»£ç (æˆ–é¡µé¢) å°½é‡èƒ½åœ¨ 2ä¸ªå®¢æˆ·ç«¯å…±ç”¨.
1. ä½¿ç”¨ pnpm ä½œä¸ºåŒ…ç®¡ç†å·¥å…·.
2. å‰ç«¯ä½¿ç”¨ React + Vite + TypeScript.
3. ä½¿ç”¨ eslint + prettier è¿›è¡Œä»£ç è§„èŒƒåŒ–.
4. UI ç»„ä»¶åº“ä½¿ç”¨ tdesign-react.
-----------
â— ğŸ‰ é¡¹ç›®åˆ›å»ºå®Œæˆï¼

  æˆ‘å·²ç»æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ªåŸºäº monorepo æ¶æ„çš„æ¡Œé¢å®¢æˆ·ç«¯é¡¹ç›®ï¼ŒåŒ…å«ï¼š

  âœ… æ ¸å¿ƒåŠŸèƒ½

  1. Monorepo ç»“æ„ - ä½¿ç”¨ pnpm workspace ç®¡ç†
  2. å…±äº«å‰ç«¯åŒ… (@desktop/shared-ui) - React + TypeScript + TDesign UI
  3. Electron å®¢æˆ·ç«¯ - åŸºäº electron-viteï¼Œé”å®š v22.3.27 å…¼å®¹ Windows 7
  4. Tauri å®¢æˆ·ç«¯ - Rust åç«¯ + å‰ç«¯
  5. ç»Ÿä¸€ä»£ç è§„èŒƒ - ESLint + Prettier é…ç½®

  âœ… æŠ€æœ¯æ ˆ

  - åŒ…ç®¡ç†: pnpm
  - å‰ç«¯: React 18 + Vite + TypeScript
  - UIç»„ä»¶: TDesign React
  - ä»£ç è§„èŒƒ: ESLint + Prettier
  - æ¡Œé¢æ¡†æ¶: Electron 22.3.27 + Tauri 1.x

  âœ… é¡¹ç›®çŠ¶æ€

  - æ‰€æœ‰ä¾èµ–å·²å®‰è£… âœ…
  - æ„å»ºæµ‹è¯•é€šè¿‡ âœ…
  - å¼€å‘æœåŠ¡å™¨æµ‹è¯•é€šè¿‡ âœ…
  - ä»£ç ç»“æ„å®Œæ•´ âœ…

  ç°åœ¨å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤å¼€å§‹ä½¿ç”¨ï¼š
  - pnpm dev - å¯åŠ¨å¼€å‘æ¨¡å¼
  - pnpm build - æ„å»ºæ‰€æœ‰é¡¹ç›®
  - pnpm lint / pnpm format - ä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–

  é¡¹ç›®å·²å°±ç»ªï¼Œå¯ä»¥å¼€å§‹å¼€å‘äº†ï¼ ğŸš€

-------------------------------------------------------------------

apps\electron-client\resources, apps\tauri-client\src-tauri\icons
å†…çš„ å›¾æ ‡éƒ½æ˜¯æœ‰é—®é¢˜çš„, æ‰“ä¸å¼€. åº”è¯¥ç”Ÿæˆä¸ªé»˜è®¤çš„å¯ä»¥ä½¿ç”¨çš„å›¾æ ‡, ç„¶åé€šè¿‡å‘½ä»¤, ç”Ÿæˆå¤šç§æ ¼å¼å§?

åŸºäº1ä¸ªicon-source.svgç”Ÿæˆ2ä¸ªåº”ç”¨iconçš„æ–¹æ¡ˆä¸é”™, ä½†æˆ‘è®°å¾—å¥½åƒ electron/tauri éƒ½æœ‰å‘½ä»¤è¡Œå·¥å…·, å¯ä»¥ç”Ÿæˆå¤šç§æ ¼å¼çš„icon? æ¯”å¦‚:
npx electron-icon-builder --input=./icon.png --output=./xxx/ --flatten
pnpm tauri icon src-tauri\icons\icon.png

1. electron-icon-builder / tauri icon ç”Ÿæˆçš„å›¾æ ‡ å¿…é¡»ç”¨ pngä½œä¸ºæºç å—? svgä¸è¡Œå—? ç°åœ¨ icon-source.svg + icon-1024.png 2ä¸ªæºæ–‡ä»¶ æ„Ÿè§‰è®¾è®¡çš„ä¸å¤Ÿå¥½.
2. ç›®å‰ç”Ÿæˆ å›¾æ ‡æœ‰å¾ˆå¤š, æœ‰æ²¡æœ‰å¤šä½™çš„?
apps\electron-client\icons , apps\electron-client\resources, apps\tauri-client\src-tauri\icons

apps\electron-client\build ç›®å½•ä¸‹ åº”è¯¥ä¸è¦è¢« gitignoreæ’é™¤? å¦å¤– electronçš„ icon å¥½åƒæ˜¯è¦è¿™æ ·çš„ç»“æ„:
â”œâ”€â”€ build/
â”‚   â”œâ”€â”€ icon.icns # åº”ç”¨å›¾æ ‡(macOS)
â”‚   â”œâ”€â”€ icon.ico # åº”ç”¨å›¾æ ‡(Windows)
â”‚   â””â”€â”€ icons/ # åº”ç”¨å›¾æ ‡(Linux, å¯é€‰ e.g. 256x256.png)

-----------
  âœ… ä½ è¯´å¾—å¯¹ï¼

  ç°åœ¨å·²ç»é‡æ–°ä½¿ç”¨äº† --flatten å‚æ•°ï¼Œè¿™æ ·ç¡®å®æ›´ç®€æ´ï¼š

  ğŸ¯ ä½¿ç”¨ --flatten çš„å¥½å¤„

  1. ç®€åŒ–è·¯å¾„: ä¸éœ€è¦å¤„ç† mac/, win/, png/ å­ç›®å½•
  2. æ›´ç›´æ¥: æ‰€æœ‰æ–‡ä»¶éƒ½åœ¨ icons/ ç›®å½•ä¸‹ï¼Œè·¯å¾„æ›´ç®€å•
  3. å‡å°‘å¤æ‚æ€§: è„šæœ¬é€»è¾‘æ›´æ¸…æ™°

-------------------------------------------------------------------